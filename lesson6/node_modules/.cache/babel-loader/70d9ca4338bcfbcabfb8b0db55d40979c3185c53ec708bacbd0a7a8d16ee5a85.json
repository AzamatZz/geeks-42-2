{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vip_AZA\\\\WebstormProjects\\\\geeks-42-2\\\\lesson6\\\\src\\\\pages\\\\TodoPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport TodoList from '../components/todoList/TodoList';\nimport Button from '../components/button/Button';\nimport Modal from '../components/modal/Modal';\nimport Pagination from '../components/pagination/Pagination';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TodoPage = () => {\n  _s();\n  const [show, setShow] = useState(false);\n  const [offset, setOffset] = useState(0);\n  console.log(offset, 'offset');\n  const [show2, setShow2] = useState(false);\n  const [name, setName] = useState('');\n  const [inputValue, setInputValue] = useState('');\n  const [todoList, setTodoList] = useState([]);\n  const handleInput = event => {\n    setInputValue(event.target.value);\n  };\n  const handleAdd = () => {\n    console.log('add');\n    setTodoList(prevState => [...prevState, {\n      id: todoList.length === 0 ? 1 : todoList[todoList.length - 1].id + 1,\n      title: inputValue,\n      completed: false\n    }]);\n  };\n  const handleEdit = todoEdit => {\n    console.log(todoEdit);\n    todoList.map(todo => {\n      if (todoEdit.id === todo.id) return todo.title = todoEdit.title;\n    });\n    setTodoList([...todoList]);\n  };\n  const handleDone = id => {\n    setTodoList(todoList.map(todo => {\n      if (id === todo.id) {\n        return todo.completed = !todo.completed;\n      }\n    }));\n    setTodoList([...todoList]);\n  };\n  const handleDelete = id => {\n    setTodoList(todoList.filter(todo => todo.id !== id));\n  };\n  const handleShow = name => {\n    setName(name);\n    if (name === 'show') setShow(prevState => !prevState);\n    if (name === 'show2') setShow2(prevState => !prevState);\n  };\n  const [limit, setLimit] = useState(4);\n  console.log(limit, 'limit ');\n  const page = offset / Number(limit) + 1;\n  const handleNext = () => {\n    setOffset(prevState => prevState + Number(limit));\n  };\n  const handlePrev = () => {\n    setOffset(prevState => prevState - Number(limit));\n  };\n  const fetchApi = async () => {\n    try {\n      const response = await fetch(`https://jsonplaceholder.typicode.com/todos?_limit=${limit}&_start=${offset}`);\n      return await response.json();\n    } catch (e) {\n      console.log(e);\n    } finally {\n      console.log('finally');\n    }\n  };\n  useEffect(() => {\n    fetchApi().then(data => setTodoList(data));\n  }, [offset, limit]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      onChange: event => setLimit(event.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      page: page,\n      next: handleNext,\n      prev: handlePrev\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TodoList, {\n      todoList: todoList,\n      handleDone: handleDone,\n      handleDelete: handleDelete,\n      handleEdit: handleEdit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      name: 'Открыть',\n      action: () => handleShow('show')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      name: 'Открыть2',\n      action: () => handleShow('show2')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), show && /*#__PURE__*/_jsxDEV(Modal, {\n      handleShow: handleShow,\n      name: name,\n      handleInput: handleInput,\n      handleAdd: handleAdd,\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Hello\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }, this), show2 && /*#__PURE__*/_jsxDEV(Modal, {\n      handleShow: handleShow,\n      name: name,\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Hello2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 26\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n};\n_s(TodoPage, \"U0ku8e5IcZXpgPsKdgqs7eMsrCg=\");\n_c = TodoPage;\nexport default TodoPage;\nvar _c;\n$RefreshReg$(_c, \"TodoPage\");","map":{"version":3,"names":["React","useEffect","useState","TodoList","Button","Modal","Pagination","jsxDEV","_jsxDEV","TodoPage","_s","show","setShow","offset","setOffset","console","log","show2","setShow2","name","setName","inputValue","setInputValue","todoList","setTodoList","handleInput","event","target","value","handleAdd","prevState","id","length","title","completed","handleEdit","todoEdit","map","todo","handleDone","handleDelete","filter","handleShow","limit","setLimit","page","Number","handleNext","handlePrev","fetchApi","response","fetch","json","e","then","data","children","type","onChange","fileName","_jsxFileName","lineNumber","columnNumber","next","prev","action","_c","$RefreshReg$"],"sources":["C:/Users/vip_AZA/WebstormProjects/geeks-42-2/lesson6/src/pages/TodoPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport TodoList from '../components/todoList/TodoList';\r\nimport Button from '../components/button/Button';\r\nimport Modal from '../components/modal/Modal';\r\nimport Pagination from '../components/pagination/Pagination';\r\n\r\nconst TodoPage = () => {\r\n    const [ show, setShow ] = useState(false);\r\n    const [ offset, setOffset ] = useState(0);\r\n    console.log(offset,'offset');\r\n    const [ show2, setShow2 ] = useState(false);\r\n    const [ name, setName ] = useState('');\r\n    const [ inputValue, setInputValue ] = useState('');\r\n    const [ todoList, setTodoList ] = useState([]);\r\n\r\n    const handleInput = (event) => {\r\n        setInputValue(event.target.value);\r\n    };\r\n\r\n    const handleAdd = () => {\r\n        console.log('add');\r\n        setTodoList(prevState => [ ...prevState, {\r\n            id: todoList.length === 0 ? 1 : todoList[ todoList.length - 1 ].id + 1,\r\n            title: inputValue,\r\n            completed: false\r\n        } ]);\r\n    };\r\n\r\n    const handleEdit = (todoEdit) => {\r\n        console.log(todoEdit);\r\n        todoList.map(todo=> {\r\n            if (todoEdit.id === todo.id) return todo.title=todoEdit.title\r\n        })\r\n        setTodoList([ ...todoList ]);\r\n    }\r\n\r\n    const handleDone = (id) => {\r\n        setTodoList(todoList.map(todo => {\r\n            if (id === todo.id) {\r\n                return todo.completed = !todo.completed;\r\n            }\r\n        }))\r\n        setTodoList([ ...todoList ]);\r\n    };\r\n\r\n    const handleDelete = (id) => {\r\n        setTodoList(todoList.filter(todo => todo.id !== id));\r\n    };\r\n    const handleShow = (name) => {\r\n        setName(name);\r\n        if (name === 'show') setShow(prevState => !prevState);\r\n        if (name === 'show2') setShow2(prevState => !prevState);\r\n    };\r\n\r\n    const [limit, setLimit] = useState(4)\r\n    console.log(limit,'limit ');\r\n    const page = (offset / Number(limit))+1\r\n    const handleNext = () => {\r\n        setOffset(prevState => prevState+Number(limit))\r\n    }\r\n    const handlePrev = () => {\r\n        setOffset(prevState => prevState-Number(limit))\r\n    }\r\n    const fetchApi = async() => {\r\n        try {\r\n            const response =\r\n                await fetch(`https://jsonplaceholder.typicode.com/todos?_limit=${limit}&_start=${offset}`);\r\n            return await response.json();\r\n        } catch(e) {\r\n            console.log(e);\r\n        } finally {\r\n            console.log('finally');\r\n        }\r\n    };\r\n\r\n    useEffect(()=>{\r\n        fetchApi().then(data=>setTodoList(data))\r\n    },[offset, limit])\r\n\r\n    return (\r\n        <div>\r\n            <input type=\"number\" onChange={(event)=>setLimit(event.target.value)}/>\r\n            <Pagination page={page} next={handleNext}  prev={handlePrev}/>\r\n            <TodoList\r\n                todoList={todoList}\r\n                handleDone={handleDone}\r\n                handleDelete={handleDelete}\r\n                handleEdit={handleEdit}\r\n            />\r\n            <Button name={'Открыть'} action={() => handleShow('show')}/>\r\n            <Button name={'Открыть2'} action={() => handleShow('show2')}/>\r\n            {\r\n                show && <Modal\r\n                    handleShow={handleShow}\r\n                    name={name}\r\n                    handleInput={handleInput}\r\n                    handleAdd={handleAdd}\r\n                >\r\n                    <h1>Hello</h1>\r\n                </Modal>\r\n            }\r\n            {\r\n                show2 && <Modal handleShow={handleShow} name={name}>\r\n                    <h1>Hello2</h1>\r\n                </Modal>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TodoPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}